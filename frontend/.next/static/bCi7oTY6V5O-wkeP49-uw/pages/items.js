(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"3+E+":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/items",function(){return n("GL6l")}])},GL6l:function(t,e,n){"use strict";n.r(e);var r=n("RNiq");e.default=r.default},RNiq:function(t,e,n){"use strict";n.r(e);var r=n("q1tI"),i=n.n(r),a=n("1OyB"),o=n("vuIU"),c=n("Ji7U"),u=n("md7G"),l=n("foSv"),s=n("h4VS"),d=n("oJmH"),p=n("lTCR"),f=n.n(p),m=n("vOnD"),h=n("YFqc"),g=n.n(h),y=m.b.h3.withConfig({displayName:"Title",componentId:"sc-16nq74k-0"})(["margin:0 1rem;text-align:center;transform:skew(-5deg) rotate(-1deg);margin-top:-3rem;text-shadow:2px 2px 0 rgba(0,0,0,0.1);a{background:",";display:inline;line-height:1.3;font-size:4rem;text-align:center;color:white;padding:0 1rem;}"],(function(t){return t.theme.red})),b=m.b.div.withConfig({displayName:"ItemStyles__Item",componentId:"sc-16pk14u-0"})(["background:white;border:1px solid ",";box-shadow:",";position:relative;display:flex;flex-direction:column;img{width:100%;height:400px;object-fit:contain;}p{line-height:2;font-weight:300;flex-grow:1;padding:0 3rem;font-size:1.5rem;}.buttonList{display:grid;width:100%;border-top:1px solid ",";grid-template-columns:repeat(auto-fit,minmax(100px,1fr));grid-gap:1px;background:",";& > *{background:white;border:0;font-size:1rem;padding:1rem;}}"],(function(t){return t.theme.offWhite}),(function(t){return t.theme.bs}),(function(t){return t.theme.lightgrey}),(function(t){return t.theme.lightgrey})),v=m.b.span.withConfig({displayName:"PriceTag",componentId:"nwbk6t-0"})(["background:",";transform:rotate(3deg);color:white;font-weight:600;padding:5px;line-height:1;font-size:3rem;display:inline-block;position:absolute;top:-3px;right:-3px;"],(function(t){return t.theme.red})),w=n("2y/O"),O=n("JX7q"),j=n("rePB"),x=i.a.createElement;function I(){var t=Object(s.a)(["\n  mutation DELETE_ITEM_MUTATION($id: ID!) {\n    deleteItem(id: $id) {\n      id\n    }\n  }\n"]);return I=function(){return t},t}var k=f()(I()),R=m.b.button.withConfig({displayName:"DeleteItem__DeleteButton",componentId:"sc-1tipz79-0"})(["cursor:pointer;"]),C=function(t){Object(c.a)(n,t);var e=function(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var n,r=Object(l.a)(t);if(e()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i)),Object(j.a)(Object(O.a)(t),"update",(function(t,e){var n=t.readQuery({query:Y});console.log(n,e),n.items=n.items.filter((function(t){return t.id!==e.data.deleteItem.id})),t.writeQuery({query:Y,data:n})})),t}return Object(o.a)(n,[{key:"render",value:function(){var t=this;return x(d.Mutation,{mutation:k,variables:{id:this.props.id},update:this.update},(function(e,n){n.error;return x(R,{onClick:function(){confirm("Are you sure you want to delete this item?")&&e().catch((function(t){alert(t.message)}))}},t.props.children)}))}}]),n}(r.Component),_=n("VliS"),E=i.a.createElement;function q(){var t=Object(s.a)(["\n  mutation addToCart($id: ID!) {\n    # addToCart below is the mutation endpoint that is called on the server side and id is passed to \n    # it as in ($id: $id!). id and quantity are what we are demanding from the endpoint\n    addToCart(id: $id) {\n      id\n      quantity\n    }\n  }\n"]);return q=function(){return t},t}var N=f()(q()),T=m.b.button.withConfig({displayName:"AddToCart__AddToCartButton",componentId:"sc-1syyje4-0"})(["cursor:pointer;outline:none;"]),D=function(t){Object(c.a)(n,t);var e=function(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var n,r=Object(l.a)(t);if(e()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=this.props.id;return E(d.Mutation,{mutation:N,variables:{id:t},refetchQueries:[{query:_.a}]},(function(t,e){var n=e.loading;return E(T,{disabled:n,onClick:t},"Add",n&&"ing"," To Cart \ud83d\uded2")}))}}]),n}(i.a.Component),P=i.a.createElement;var S=function(t){Object(c.a)(n,t);var e=function(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var n,r=Object(l.a)(t);if(e()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var t=this.props.item;return P(b,null,t.image&&P("img",{src:t.image,alt:t.title}),P(y,null,P(g.a,{href:{pathname:"/item",query:{id:t.id}}},P("a",null,t.title))),P(v,null,Object(w.a)(t.price)),P("p",null,t.description),P("div",{className:"buttonList"},P(g.a,{href:{pathname:"update",query:{id:t.id}}},P("a",null,"Edit \u270f\ufe0f")),P(D,{id:t.id}),P(C,{id:t.id},"Delete This Item")))}}]),n}(r.Component),L=n("8Kt/"),A=n.n(L),$=m.b.div.withConfig({displayName:"PaginationStyles",componentId:"aduuar-0"})(["text-align:center;display:inline-grid;grid-template-columns:repeat(4,auto);align-items:stretch;justify-content:center;align-content:center;margin:2rem 0;border:1px solid ",";border-radius:10px;& > *{margin:0;padding:15px 30px;border-right:1px solid ",";&:last-child{border-right:0;}}a[aria-disabled='true']{color:grey;pointer-events:none;}"],(function(t){return t.theme.lightgrey}),(function(t){return t.theme.lightgrey})),Q=n("obyI"),M=i.a.createElement;function U(){var t=Object(s.a)(["\n  query PAGINATION_QUERY {\n    itemsConnection {\n      aggregate {\n        count\n      }\n    }\n  }\n"]);return U=function(){return t},t}var z=f()(U()),B=function(t){return M(d.Query,{query:z},(function(e){var n=e.data,r=e.loading;e.error;if(r)return M("p",null,"Loading...");var i=n.itemsConnection.aggregate.count,a=Math.ceil(i/Q.a),o=t.page;return M($,{"data-test":"pagination"},M(A.a,null,M("title",null,"Sick Fits! \u2014 Page ",o," of ",a)),M(g.a,{prefetch:!0,href:{pathname:"items",query:{page:o-1}}},M("a",{className:"prev","aria-disabled":o<=1},"\u2190 Prev")),M("p",null,"Page ",t.page," of",M("span",{className:"totalPages"},a),"!"),M("p",null,i," Items Total"),M(g.a,{prefetch:!0,href:{pathname:"items",query:{page:o+1}}},M("a",{className:"next","aria-disabled":o>=a},"Next \u2192")))}))},J=i.a.createElement;function G(){var t=Object(s.a)(["\n  query ALL_ITEMS_QUERY($skip: Int = 0, $first: Int = ",") {\n    # items below is the endpoint the ALL_ITEMS_QUERY query is hitting @ d backend\n    items(first: $first, skip: $skip, orderBy: image_DESC) {\n      id\n      title\n      price\n      description\n      image\n      largeImage\n    }\n  }\n"]);return G=function(){return t},t}var Y=f()(G(),Q.a),F=m.b.div.withConfig({displayName:"Items__Center",componentId:"tikday-0"})(["text-align:center;"]),X=m.b.div.withConfig({displayName:"Items__ItemsList",componentId:"tikday-1"})(["display:grid;grid-template-columns:1fr 1fr;grid-gap:60px;max-width:",";margin:0 auto;"],(function(t){return t.theme.maxWidth})),V=function(t){Object(c.a)(n,t);var e=function(t){function e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var n,r=Object(l.a)(t);if(e()){var i=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return J(F,null,J(B,{page:this.props.page}),J(d.Query,{query:Y,variables:{skip:this.props.page*Q.a-Q.a}},(function(t){var e=t.data,n=t.error;return t.loading?J("p",null,"Loading..."):n?J("p",null,"Error: ",n.message):J(X,null,e.items.map((function(t){return J(S,{item:t,key:t.id})})))})),J(B,{page:this.props.page}))}}]),n}(r.Component),W=i.a.createElement;e.default=function(t){return W("div",null,W(V,{page:parseFloat(t.query.page)||1}))}}},[["3+E+",0,1,3,2,4,5]]]);