(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"1kfB":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/permissions",function(){return n("xo/1")}])},"2FTe":function(e,t,n){"use strict";var r=n("vOnD").b.button.withConfig({displayName:"SickButton",componentId:"l04z44-0"})(["background:red;color:white;font-weight:500;border:0;border-radius:0;text-transform:uppercase;font-size:2rem;padding:0.8rem 1.5rem;transform:skew(-2deg);display:inline-block;transition:all 0.5s;&[disabled]{opacity:0.5;}"]);t.a=r},"5c+8":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("oJmH"),i=n("VliS"),s=n("km3s"),u=o.a.createElement;t.a=function(e){return u(a.Query,{query:i.a},(function(t){var n=t.data;return t.loading?u("p",null,"Loading..."):n.me?e.children:u("div",null,u("p",null,"Please Sign In before Continuing"),u(s.a,null))}))}},VUBQ:function(e,t,n){"use strict";var r=n("vOnD"),o=n("q1tI"),a=n.n(o).a.createElement,i=r.b.div.withConfig({displayName:"ErrorMessage__ErrorStyles",componentId:"sc-11u5fgj-0"})(["padding:2rem;background:white;margin:2rem 0;border:1px solid rgba(0,0,0,0.05);border-left:5px solid red;p{margin:0;font-weight:100;}strong{margin-right:1rem;}"]),s=function(e){var t=e.error;return t&&t.message?t.networkError&&t.networkError.result&&t.networkError.result.errors.length?t.networkError.result.errors.map((function(e,t){return a(i,{key:t},a("p",{"data-test":"graphql-error"},a("strong",null,"Shoot!"),e.message.replace("GraphQL error: ","")))})):a(i,null,a("p",{"data-test":"graphql-error"},a("strong",null,"Shoot!"),t.message.replace("GraphQL error: ",""))):null};s.defaultProps={error:{}},t.a=s},VliS:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("wx14"),o=n("h4VS"),a=n("q1tI"),i=n.n(a),s=n("oJmH"),u=n("lTCR"),c=n.n(u),l=i.a.createElement;function d(){var e=Object(o.a)(['\n  query {\n    me {\n      id\n      email\n      name\n      permissions\n\n      # I kept getting the following errors 1,2,3... when I start the application and it prevents me from being able to do\n      # anything on the app. I still don\'t understand the error or the way to go about it. \n      #1. httpLink.js:87 POST http://localhost:4444/ 400 (Bad Request)\n      #2. [GraphQL error]: Message: Cannot query field "orders" on type "User"., Location: [object Object], Path: undefined\n      #3. [Network error]: Error: Response not successful: Received status code 400\n\n\n      # In order that I might able to complete other things on the app, I did this hack and hashed out orders as seen below.\n      # This is a temporary solution until I can figure out a proper solution to the problem\n      # orders {\n      #   id\n      # }\n      cart {\n        id\n        quantity\n        item {\n          id\n          price\n          image\n          title\n          description\n        }\n      }\n    }\n  }\n']);return d=function(){return e},e}var p=c()(d());t.b=function(e){return l(s.Query,Object(r.a)({},e,{query:p}),(function(t){return e.children(t)}))}},km3s:function(e,t,n){"use strict";var r=n("o0o1"),o=n.n(r),a=n("1OyB"),i=n("vuIU"),s=n("JX7q"),u=n("Ji7U"),c=n("md7G"),l=n("foSv"),d=n("rePB"),p=n("h4VS"),f=n("q1tI"),m=n.n(f),h=n("oJmH"),b=n("nOHt"),g=n.n(b),v=n("lTCR"),y=n.n(v),w=n("mzXK"),O=n("VUBQ"),k=n("VliS"),j=m.a.createElement;function I(){var e=Object(p.a)(["\n  mutation SIGNIN_MUTATION($email: String!, $password: String!) {\n    signin(email: $email, password: $password) {\n      id\n      email\n      name\n    }\n  }\n"]);return I=function(){return e},e}var S=y()(I()),E=function(e){Object(u.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(l.a)(e);if(t()){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Object(d.a)(Object(s.a)(e),"state",{name:"",password:"",email:""}),Object(d.a)(Object(s.a)(e),"saveToState",(function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))})),e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return j(h.Mutation,{mutation:S,variables:this.state,refetchQueries:[{query:k.a}]},(function(t,n){var r=n.error,a=n.loading;return j(w.a,{method:"post",onSubmit:function(n){return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),r.next=3,o.a.awrap(t());case 3:e.setState({name:"",email:"",password:""}),g.a.push({pathname:"/items"});case 5:case"end":return r.stop()}}),null,null,null,Promise)}},j("fieldset",{disabled:a,"aria-busy":a},j("h2",null,"Sign into your account"),j(O.a,{error:r}),j("label",{htmlFor:"email"},"Email",j("input",{type:"email",name:"email",placeholder:"email",value:e.state.email,onChange:e.saveToState})),j("label",{htmlFor:"password"},"Password",j("input",{type:"password",name:"password",placeholder:"password",value:e.state.password,onChange:e.saveToState})),j("button",{type:"submit"},"Sign In!")))}))}}]),n}(f.Component);t.a=E},mzXK:function(e,t,n){"use strict";var r=n("vOnD"),o=Object(r.d)(["from{background-position:0 0;}to{background-position:100% 100%;}"]),a=r.b.form.withConfig({displayName:"Form",componentId:"sc-1xszr8q-0"})(["box-shadow:0 0 5px 3px rgba(0,0,0,0.05);background:rgba(0,0,0,0.02);border:5px solid white;padding:20px;font-size:1.5rem;line-height:1.5;font-weight:600;label{display:block;margin-bottom:1rem;}input,textarea,select{width:100%;padding:0.5rem;font-size:1rem;border:1px solid black;&:focus{outline:0;border-color:",";}}button,input[type='submit']{width:auto;background:red;color:white;border:0;font-size:2rem;font-weight:600;padding:0.5rem 1.2rem;}fieldset{border:0;padding:0;&[disabled]{opacity:0.5;}&::before{height:10px;content:'';display:block;background-image:linear-gradient(to right,#ff3019 0%,#e2b04a 50%,#ff3019 100%);}&[aria-busy='true']::before{background-size:50% auto;animation:"," 0.5s linear infinite;}}"],(function(e){return e.theme.red}),o);t.a=a},rePB:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},wx14:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},"xo/1":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=n("5c+8");function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s=n("1OyB"),u=n("vuIU"),c=n("JX7q"),l=n("Ji7U"),d=n("md7G"),p=n("foSv"),f=n("rePB"),m=n("h4VS"),h=n("oJmH"),b=n("VUBQ"),g=n("lTCR"),v=n.n(g),y=n("vOnD").b.table.withConfig({displayName:"Table",componentId:"sc-1jvbtk5-0"})(["border-spacing:0;width:100%;border:1px solid ",";thead{font-size:10px;}td,th{border-bottom:1px solid ",";border-right:1px solid ",";padding:5px;position:relative;&:last-child{border-right:none;width:150px;button{width:100%;}}label{padding:10px 5px;display:block;}}tr{&:hover{background:",";}}"],(function(e){return e.theme.offWhite}),(function(e){return e.theme.offWhite}),(function(e){return e.theme.offWhite}),(function(e){return e.theme.offWhite})),w=n("2FTe"),O=o.a.createElement;function k(){var e=Object(m.a)(["\n  query {\n    users {\n      id\n      name\n      email\n      permissions\n    }\n  }\n"]);return k=function(){return e},e}function j(){var e=Object(m.a)(["\n  mutation updatePermissions($permissions: [Permission], $userId: ID!) {\n    updatePermissions(permissions: $permissions, userId: $userId) {\n      id\n      permissions\n      name\n      email\n    }\n  }\n"]);return j=function(){return e},e}var I=["ADMIN","USER","ITEMCREATE","ITEMUPDATE","ITEMDELETE","PERMISSIONUPDATE"],S=v()(j()),E=v()(k()),x=function(e){Object(l.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(p.a)(e);if(t()){var o=Object(p.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(f.a)(Object(c.a)(e),"state",{permissions:e.props.user.permissions}),Object(f.a)(Object(c.a)(e),"handlePermissionChange",(function(t){var n=t.target,r=i(e.state.permissions);n.checked?r.push(n.value):r=r.filter((function(e){return e!==n.value})),e.setState({permissions:r})})),e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.user;return O(h.Mutation,{mutation:S,variables:{permissions:this.state.permissions,userId:this.props.user.id}},(function(n,r){var a=r.loading,i=r.error;return O(o.a.Fragment,null,i&&O("tr",null,O("td",{colspan:"8"},O(b.a,{error:i}))),O("tr",null,O("td",null,t.name),O("td",null,t.email),I.map((function(n){return O("td",{key:n},O("label",{htmlFor:"".concat(t.id,"-permission-").concat(n)},O("input",{id:"".concat(t.id,"-permission-").concat(n),type:"checkbox",checked:e.state.permissions.includes(n),value:n,onChange:e.handlePermissionChange})))})),O("td",null,O(w.a,{type:"button",disabled:a,onClick:n},"Updat",a?"ing":"e"))))}))}}]),n}(o.a.Component),P=function(e){return O(h.Query,{query:E},(function(e){var t=e.data,n=(e.loading,e.error);return O("div",null,O(b.a,{error:n}),O("div",null,O("h2",null,"Manage Permissions"),O(y,null,O("thead",null,O("tr",null,O("th",null,"Name"),O("th",null,"Email"),I.map((function(e){return O("th",{key:e},e)})),O("th",null,"\ud83d\udc47\ud83c\udffb"))),O("tbody",null,t.users.map((function(e){return O(x,{user:e,key:e.id})}))))))}))},T=o.a.createElement;t.default=function(e){return T("div",null,T(a.a,null,T(P,null)))}}},[["1kfB",0,1,3,2,4]]]);