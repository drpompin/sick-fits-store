{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{\"2y/O\":function(e,t,n){\"use strict\";t.a=function(e){var t={style:\"currency\",currency:\"USD\",minimumFractionDigits:2};return e%100===0&&(t.minimumFractionDigits=0),new Intl.NumberFormat(\"en-US\",t).format(e/100)}},\"38br\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/sell\",function(){return n(\"4UCa\")}])},\"4UCa\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"1OyB\"),a=n(\"vuIU\"),i=n(\"Ji7U\"),o=n(\"md7G\"),c=n(\"foSv\"),u=n(\"q1tI\"),l=n.n(u),s=n(\"o0o1\"),p=n.n(s),d=n(\"JX7q\"),f=n(\"rePB\"),m=n(\"h4VS\"),h=n(\"oJmH\"),g=n(\"lTCR\"),b=n.n(g),y=n(\"nOHt\"),v=n.n(y),w=n(\"mzXK\"),O=(n(\"2y/O\"),n(\"VUBQ\")),j=l.a.createElement;function S(){var e=Object(m.a)([\"\\n  mutation CREATE_ITEM_MUTATION(\\n    $title: String!\\n    $description: String!\\n    $price: Int!\\n    $image: String\\n    $largeImage: String\\n  ) {\\n    #The createItem name below is gotten from the graphql schema at the backend; its the called \\n    # endpoint on the server side\\n    createItem(\\n      title: $title\\n      description: $description\\n      price: $price\\n      image: $image\\n      largeImage: $largeImage\\n    ) {\\n        # We need the id of the item created; hence, id below\\n      id\\n    }\\n  }\\n\"]);return S=function(){return e},e}var I=b()(S()),k=function(e){Object(i.a)(n,e);var t=function(e){function t(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(c.a)(e);if(t()){var a=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object(f.a)(Object(d.a)(e),\"state\",{title:\"\",description:\"\",image:\"\",largeImage:\"\",price:0}),Object(f.a)(Object(d.a)(e),\"handleChange\",(function(t){var n=t.target,r=n.name,a=n.type,i=n.value,o=\"number\"===a?parseFloat(i):i;e.setState(Object(f.a)({},r,o))})),Object(f.a)(Object(d.a)(e),\"uploadFile\",(function(t){var n,r,a,i;return p.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.target.files,(r=new FormData).append(\"file\",n[0]),r.append(\"upload_preset\",\"sickfits\"),o.next=6,p.a.awrap(fetch(\"https://api.cloudinary.com/v1_1/doednsebg/image/upload\",{method:\"POST\",body:r}));case 6:return a=o.sent,o.next=9,p.a.awrap(a.json());case 9:i=o.sent,e.setState({image:i.secure_url,largeImage:i.eager[0].secure_url});case 11:case\"end\":return o.stop()}}),null,null,null,Promise)})),e}return Object(a.a)(n,[{key:\"render\",value:function(){var e=this;return j(h.Mutation,{mutation:I,variables:this.state},(function(t,n){var r=n.loading,a=n.error;return j(w.a,{\"data-test\":\"form\",onSubmit:function(e){var n;return p.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),r.next=3,p.a.awrap(t());case 3:n=r.sent,console.log(\"response=======>\",n),v.a.push({pathname:\"/item\",query:{id:n.data.createItem.id}});case 6:case\"end\":return r.stop()}}),null,null,null,Promise)}},j(O.a,{error:a}),j(\"fieldset\",{disabled:r,\"aria-busy\":r},j(\"label\",{htmlFor:\"file\"},\"Image\",j(\"input\",{type:\"file\",id:\"file\",name:\"file\",placeholder:\"Upload an image\",required:!0,onChange:e.uploadFile}),e.state.image&&j(\"img\",{width:\"200\",src:e.state.image,alt:\"Upload Preview\"})),j(\"label\",{htmlFor:\"title\"},\"Title\",j(\"input\",{type:\"text\",id:\"title\",name:\"title\",placeholder:\"Title\",required:!0,value:e.state.title,onChange:e.handleChange})),j(\"label\",{htmlFor:\"price\"},\"Price\",j(\"input\",{type:\"number\",id:\"price\",name:\"price\",placeholder:\"Price\",required:!0,value:e.state.price,onChange:e.handleChange})),j(\"label\",{htmlFor:\"description\"},\"Description\",j(\"textarea\",{id:\"description\",name:\"description\",placeholder:\"Enter A Description\",required:!0,value:e.state.description,onChange:e.handleChange})),j(\"button\",{type:\"submit\"},\"Submit\")))}))}}]),n}(u.Component),x=n(\"5c+8\"),q=l.a.createElement;var C=function(e){Object(i.a)(n,e);var t=function(e){function t(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(c.a)(e);if(t()){var a=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(o.a)(this,n)}}(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:\"render\",value:function(){return q(l.a.Fragment,null,q(x.a,null,q(k,null)))}}]),n}(l.a.Component);t.default=C},\"5c+8\":function(e,t,n){\"use strict\";var r=n(\"q1tI\"),a=n.n(r),i=n(\"oJmH\"),o=n(\"VliS\"),c=n(\"km3s\"),u=a.a.createElement;t.a=function(e){return u(i.Query,{query:o.a},(function(t){var n=t.data;return t.loading?u(\"p\",null,\"Loading...\"):n.me?e.children:u(\"div\",null,u(\"p\",null,\"Please Sign In before Continuing\"),u(c.a,null))}))}},VUBQ:function(e,t,n){\"use strict\";var r=n(\"vOnD\"),a=n(\"q1tI\"),i=n.n(a).a.createElement,o=r.b.div.withConfig({displayName:\"ErrorMessage__ErrorStyles\",componentId:\"sc-11u5fgj-0\"})([\"padding:2rem;background:white;margin:2rem 0;border:1px solid rgba(0,0,0,0.05);border-left:5px solid red;p{margin:0;font-weight:100;}strong{margin-right:1rem;}\"]),c=function(e){var t=e.error;return t&&t.message?t.networkError&&t.networkError.result&&t.networkError.result.errors.length?t.networkError.result.errors.map((function(e,t){return i(o,{key:t},i(\"p\",{\"data-test\":\"graphql-error\"},i(\"strong\",null,\"Shoot!\"),e.message.replace(\"GraphQL error: \",\"\")))})):i(o,null,i(\"p\",{\"data-test\":\"graphql-error\"},i(\"strong\",null,\"Shoot!\"),t.message.replace(\"GraphQL error: \",\"\"))):null};c.defaultProps={error:{}},t.a=c},VliS:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var r=n(\"wx14\"),a=n(\"h4VS\"),i=n(\"q1tI\"),o=n.n(i),c=n(\"oJmH\"),u=n(\"lTCR\"),l=n.n(u),s=o.a.createElement;function p(){var e=Object(a.a)(['\\n  query {\\n    me {\\n      id\\n      email\\n      name\\n      permissions\\n\\n      # I kept getting the following errors 1,2,3... when I start the application and it prevents me from being able to do\\n      # anything on the app. I still don\\'t understand the error or the way to go about it. \\n      #1. httpLink.js:87 POST http://localhost:4444/ 400 (Bad Request)\\n      #2. [GraphQL error]: Message: Cannot query field \"orders\" on type \"User\"., Location: [object Object], Path: undefined\\n      #3. [Network error]: Error: Response not successful: Received status code 400\\n\\n\\n      # In order that I might able to complete other things on the app, I did this hack and hashed out orders as seen below.\\n      # This is a temporary solution until I can figure out a proper solution to the problem\\n      # orders {\\n      #   id\\n      # }\\n      cart {\\n        id\\n        quantity\\n        item {\\n          id\\n          price\\n          image\\n          title\\n          description\\n        }\\n      }\\n    }\\n  }\\n']);return p=function(){return e},e}var d=l()(p());t.b=function(e){return s(c.Query,Object(r.a)({},e,{query:d}),(function(t){return e.children(t)}))}},km3s:function(e,t,n){\"use strict\";var r=n(\"o0o1\"),a=n.n(r),i=n(\"1OyB\"),o=n(\"vuIU\"),c=n(\"JX7q\"),u=n(\"Ji7U\"),l=n(\"md7G\"),s=n(\"foSv\"),p=n(\"rePB\"),d=n(\"h4VS\"),f=n(\"q1tI\"),m=n.n(f),h=n(\"oJmH\"),g=n(\"nOHt\"),b=n.n(g),y=n(\"lTCR\"),v=n.n(y),w=n(\"mzXK\"),O=n(\"VUBQ\"),j=n(\"VliS\"),S=m.a.createElement;function I(){var e=Object(d.a)([\"\\n  mutation SIGNIN_MUTATION($email: String!, $password: String!) {\\n    signin(email: $email, password: $password) {\\n      id\\n      email\\n      name\\n    }\\n  }\\n\"]);return I=function(){return e},e}var k=v()(I()),x=function(e){Object(u.a)(n,e);var t=function(e){function t(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(s.a)(e);if(t()){var a=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),Object(p.a)(Object(c.a)(e),\"state\",{name:\"\",password:\"\",email:\"\"}),Object(p.a)(Object(c.a)(e),\"saveToState\",(function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))})),e}return Object(o.a)(n,[{key:\"render\",value:function(){var e=this;return S(h.Mutation,{mutation:k,variables:this.state,refetchQueries:[{query:j.a}]},(function(t,n){var r=n.error,i=n.loading;return S(w.a,{method:\"post\",onSubmit:function(n){return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n.preventDefault(),r.next=3,a.a.awrap(t());case 3:e.setState({name:\"\",email:\"\",password:\"\"}),b.a.push({pathname:\"/items\"});case 5:case\"end\":return r.stop()}}),null,null,null,Promise)}},S(\"fieldset\",{disabled:i,\"aria-busy\":i},S(\"h2\",null,\"Sign into your account\"),S(O.a,{error:r}),S(\"label\",{htmlFor:\"email\"},\"Email\",S(\"input\",{type:\"email\",name:\"email\",placeholder:\"email\",value:e.state.email,onChange:e.saveToState})),S(\"label\",{htmlFor:\"password\"},\"Password\",S(\"input\",{type:\"password\",name:\"password\",placeholder:\"password\",value:e.state.password,onChange:e.saveToState})),S(\"button\",{type:\"submit\"},\"Sign In!\")))}))}}]),n}(f.Component);t.a=x},mzXK:function(e,t,n){\"use strict\";var r=n(\"vOnD\"),a=Object(r.d)([\"from{background-position:0 0;}to{background-position:100% 100%;}\"]),i=r.b.form.withConfig({displayName:\"Form\",componentId:\"sc-1xszr8q-0\"})([\"box-shadow:0 0 5px 3px rgba(0,0,0,0.05);background:rgba(0,0,0,0.02);border:5px solid white;padding:20px;font-size:1.5rem;line-height:1.5;font-weight:600;label{display:block;margin-bottom:1rem;}input,textarea,select{width:100%;padding:0.5rem;font-size:1rem;border:1px solid black;&:focus{outline:0;border-color:\",\";}}button,input[type='submit']{width:auto;background:red;color:white;border:0;font-size:2rem;font-weight:600;padding:0.5rem 1.2rem;}fieldset{border:0;padding:0;&[disabled]{opacity:0.5;}&::before{height:10px;content:'';display:block;background-image:linear-gradient(to right,#ff3019 0%,#e2b04a 50%,#ff3019 100%);}&[aria-busy='true']::before{background-size:50% auto;animation:\",\" 0.5s linear infinite;}}\"],(function(e){return e.theme.red}),a);t.a=i},rePB:function(e,t,n){\"use strict\";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,\"a\",(function(){return r}))},wx14:function(e,t,n){\"use strict\";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,\"a\",(function(){return r}))}},[[\"38br\",0,1,3,2,4]]]);"}