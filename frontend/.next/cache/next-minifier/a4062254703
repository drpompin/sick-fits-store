{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{QcRT:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/orders\",function(){return r(\"V+vy\")}])},\"V+vy\":function(t,e,r){\"use strict\";r.r(e);var n=r(\"q1tI\"),o=r.n(n),a=r(\"5c+8\"),i=r(\"1OyB\"),u=r(\"vuIU\"),s=r(\"Ji7U\"),c=r(\"md7G\"),l=r(\"foSv\"),f=r(\"h4VS\"),p=r(\"oJmH\"),h=r(\"JCDJ\"),d=r(\"/Tr7\");function m(t,e,r){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(d.a)(t,r),o=Object(d.a)(e,r),a=n.getTime()-o.getTime();return a<0?-1:a>0?1:a}function g(t,e,r){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=function(t,e,r){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(d.a)(t,r),o=Object(d.a)(e,r);return n.getTime()-o.getTime()}(t,e,r)/1e3;return n>0?Math.floor(n):Math.ceil(n)}function v(t,e,r){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(d.a)(t,r),o=Object(d.a)(e,r),a=m(n,o,r),i=Math.abs(function(t,e,r){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=Object(d.a)(t,r),o=Object(d.a)(e,r);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}(n,o,r));n.setMonth(n.getMonth()-a*i);var u=a*(i-(m(n,o,r)===-a));return 0===u?0:u}var y=r(\"iSMj\"),b=1440,w=2520,O=43200,D=86400;var j=r(\"YFqc\"),M=r.n(j),T=r(\"vOnD\"),E=r(\"lTCR\"),x=r.n(E),R=r(\"VUBQ\"),k=r(\"2y/O\"),q=T.b.li.withConfig({displayName:\"OrderItemStyles\",componentId:\"fbwo89-0\"})([\"box-shadow:\",\";list-style:none;padding:2rem;border:1px solid \",\";h2{border-bottom:2px solid red;margin-top:0;margin-bottom:2rem;padding-bottom:2rem;}.images{display:grid;grid-gap:10px;grid-template-columns:repeat(auto-fit,minmax(0,1fr));margin-top:1rem;img{height:200px;object-fit:cover;width:100%;}}.order-meta{display:grid;grid-template-columns:repeat(auto-fit,minmax(20px,1fr));display:grid;grid-gap:1rem;text-align:center;& > *{margin:0;background:rgba(0,0,0,0.03);padding:1rem 0;}strong{display:block;margin-bottom:1rem;}}\"],(function(t){return t.theme.bs}),(function(t){return t.theme.offWhite})),U=o.a.createElement;function S(){var t=Object(f.a)([\"\\n  query USER_ORDERS_QUERY {\\n    orders(orderBy: createdAt_DESC) {\\n      id\\n      total\\n      createdAt\\n      items {\\n        id\\n        title\\n        price\\n        description\\n        quantity\\n        image\\n      }\\n    }\\n  }\\n\"]);return S=function(){return t},t}var _=x()(S()),C=(T.b.ul.withConfig({displayName:\"OrderList__orderUl\",componentId:\"rwafy5-0\"})([\"display:grid;grid-gap:4rem;grid-template-columns:repeat(auto-fit,minmax(40%,1fr));\"]),function(t){Object(s.a)(r,t);var e=function(t){function e(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var r,n=Object(l.a)(t);if(e()){var o=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(c.a)(this,r)}}(r);function r(){return Object(i.a)(this,r),e.apply(this,arguments)}return Object(u.a)(r,[{key:\"render\",value:function(){return U(p.Query,{query:_},(function(t){var e=t.data.orders,r=t.loading,n=t.error;return r?U(\"p\",null,\"loading...\"):n?U(R.a,{erorr:n}):(console.log(\"orders in orderlist =====>\",e),U(\"div\",null,U(\"h2\",null,\"You have \",e.length,\" orders\"),U(\"orderUl\",null,e.map((function(t){return U(q,{key:t.id},U(M.a,{href:{pathname:\"/order\",query:{id:t.id}}},U(\"a\",null,U(\"div\",{className:\"order-meta\"},U(\"p\",null,t.items.reduce((function(t,e){return t+e.quantity}),0),\" Items\"),U(\"p\",null,t.items.length,\" Products\"),U(\"p\",null,function(t,e,r){if(arguments.length<2)throw new TypeError(\"2 arguments required, but only \"+arguments.length+\" present\");var n=r||{},o=n.locale||y.a;if(!o.formatDistance)throw new RangeError(\"locale must contain formatDistance property\");var a=m(t,e,n);if(isNaN(a))return\"Invalid Date\";var i,u,s=function(t){t=t||{};var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}(n);s.addSuffix=Boolean(n.addSuffix),s.comparison=a,a>0?(i=Object(d.a)(e,n),u=Object(d.a)(t,n)):(i=Object(d.a)(t,n),u=Object(d.a)(e,n));var c,l=g(u,i,n),f=(Object(h.a)(u)-Object(h.a)(i))/1e3,p=Math.round((l-f)/60);if(p<2)return n.includeSeconds?l<5?o.formatDistance(\"lessThanXSeconds\",5,s):l<10?o.formatDistance(\"lessThanXSeconds\",10,s):l<20?o.formatDistance(\"lessThanXSeconds\",20,s):l<40?o.formatDistance(\"halfAMinute\",null,s):l<60?o.formatDistance(\"lessThanXMinutes\",1,s):o.formatDistance(\"xMinutes\",1,s):0===p?o.formatDistance(\"lessThanXMinutes\",1,s):o.formatDistance(\"xMinutes\",p,s);if(p<45)return o.formatDistance(\"xMinutes\",p,s);if(p<90)return o.formatDistance(\"aboutXHours\",1,s);if(p<b){var j=Math.round(p/60);return o.formatDistance(\"aboutXHours\",j,s)}if(p<w)return o.formatDistance(\"xDays\",1,s);if(p<O){var M=Math.round(p/b);return o.formatDistance(\"xDays\",M,s)}if(p<D)return c=Math.round(p/O),o.formatDistance(\"aboutXMonths\",c,s);if((c=v(u,i,n))<12){var T=Math.round(p/O);return o.formatDistance(\"xMonths\",T,s)}var E=c%12,x=Math.floor(c/12);return E<3?o.formatDistance(\"aboutXYears\",x,s):E<9?o.formatDistance(\"overXYears\",x,s):o.formatDistance(\"almostXYears\",x+1,s)}(t.createdAt,new Date)),U(\"p\",null,Object(k.a)(t.total))),U(\"div\",{className:\"images\"},t.items.map((function(t){return U(\"img\",{key:t.id,src:t.image,alt:t.title})}))))))})))))}))}}]),r}(o.a.Component)),X=o.a.createElement;e.default=function(t){return X(\"div\",null,X(a.a,null,X(C,null)))}},YFqc:function(t,e,r){t.exports=r(\"cTJO\")},cTJO:function(t,e,r){\"use strict\";var n=r(\"lwsE\"),o=r(\"W8MJ\"),a=r(\"7W2i\"),i=r(\"a1gu\"),u=r(\"Nsbk\");var s=r(\"TqRt\"),c=r(\"284h\");e.__esModule=!0,e.default=void 0;var l,f=c(r(\"q1tI\")),p=r(\"QmWs\"),h=r(\"g/15\"),d=s(r(\"nOHt\"));function m(t){return t&&\"object\"===typeof t?(0,h.formatWithValidation)(t):t}var g=new Map,v=window.IntersectionObserver,y={};function b(){return l||(v?l=new v((function(t){t.forEach((function(t){if(g.has(t.target)){var e=g.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&(l.unobserve(t.target),g.delete(t.target),e())}}))}),{rootMargin:\"200px\"}):void 0)}var w=function(t){a(r,t);var e=function(t){function e(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}return function(){var r,n=u(t);if(e()){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return i(this,r)}}(r);function r(t){var o;return n(this,r),(o=e.call(this,t)).p=void 0,o.cleanUpListeners=function(){},o.formatUrls=function(t){var e=null,r=null,n=null;return function(o,a){if(n&&o===e&&a===r)return n;var i=t(o,a);return e=o,r=a,n=i,i}}((function(t,e){return{href:m(t),as:e?m(e):e}})),o.linkClicked=function(t){var e=t.currentTarget,r=e.nodeName,n=e.target;if(\"A\"!==r||!(n&&\"_self\"!==n||t.metaKey||t.ctrlKey||t.shiftKey||t.nativeEvent&&2===t.nativeEvent.which)){var a=o.formatUrls(o.props.href,o.props.as),i=a.href,u=a.as;if(function(t){var e=(0,p.parse)(t,!1,!0),r=(0,p.parse)((0,h.getLocationOrigin)(),!1,!0);return!e.host||e.protocol===r.protocol&&e.host===r.host}(i)){var s=window.location.pathname;i=(0,p.resolve)(s,i),u=u?(0,p.resolve)(s,u):i,t.preventDefault();var c=o.props.scroll;null==c&&(c=u.indexOf(\"#\")<0),d.default[o.props.replace?\"replace\":\"push\"](i,u,{shallow:o.props.shallow}).then((function(t){t&&c&&(window.scrollTo(0,0),document.body.focus())}))}}},o.p=!1!==t.prefetch,o}return o(r,[{key:\"componentWillUnmount\",value:function(){this.cleanUpListeners()}},{key:\"getPaths\",value:function(){var t=window.location.pathname,e=this.formatUrls(this.props.href,this.props.as),r=e.href,n=e.as,o=(0,p.resolve)(t,r);return[o,n?(0,p.resolve)(t,n):o]}},{key:\"handleRef\",value:function(t){var e=this;this.p&&v&&t&&t.tagName&&(this.cleanUpListeners(),y[this.getPaths().join(\"%\")]||(this.cleanUpListeners=function(t,e){var r=b();return r?(r.observe(t),g.set(t,e),function(){try{r.unobserve(t)}catch(e){console.error(e)}g.delete(t)}):function(){}}(t,(function(){e.prefetch()}))))}},{key:\"prefetch\",value:function(t){if(this.p){var e=this.getPaths();d.default.prefetch(e[0],e[1],t).catch((function(t){0})),y[e.join(\"%\")]=!0}}},{key:\"render\",value:function(){var t=this,e=this.props.children,r=this.formatUrls(this.props.href,this.props.as),n=r.href,o=r.as;\"string\"===typeof e&&(e=f.default.createElement(\"a\",null,e));var a=f.Children.only(e),i={ref:function(e){t.handleRef(e),a&&\"object\"===typeof a&&a.ref&&(\"function\"===typeof a.ref?a.ref(e):\"object\"===typeof a.ref&&(a.ref.current=e))},onMouseEnter:function(e){a.props&&\"function\"===typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),t.prefetch({priority:!0})},onClick:function(e){a.props&&\"function\"===typeof a.props.onClick&&a.props.onClick(e),e.defaultPrevented||t.linkClicked(e)}};return!this.props.passHref&&(\"a\"!==a.type||\"href\"in a.props)||(i.href=o||n),f.default.cloneElement(a,i)}}]),r}(f.Component);e.default=w}},[[\"QcRT\",0,1,3,2,4,6]]]);"}